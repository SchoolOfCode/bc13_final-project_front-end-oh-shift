import React, { useContext } from "react";
import Link from "next/link";

import { useUser } from "@auth0/nextjs-auth0/client";
import Account from "../Account/Account";
import NoAccount from "../NoAccount/NoAccount";
import { DarkModeWrapper } from "../../pages/_app";

function Header() {
  let { darkMode, setDarkMode } = useContext(DarkModeWrapper);
  const { user, error } = useUser();


  return (
    <div
      className={
        darkMode
          ? "bg-accent navbar bg-base-100"
          : "bg-neutral navbar bg-base-100"
      }
    >
      <div className="navbar-start">
        <div className="dropdown">
          <label tabIndex={0} className="btn btn-ghost btn-circle">
            {darkMode ? (
              <svg
                xmlns="http://www.w3.org/2000/svg"
                className="h-5 w-5 bg-primary rounded w-6 h-6"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth="2"
                  d="M4 6h16M4 12h16M4 18h7"
                />
              </svg>
            ) : (
              <svg
                xmlns="http://www.w3.org/2000/svg"
                className="h-5 w-5"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth="2"
                  d="M4 6h16M4 12h16M4 18h7"
                />
              </svg>
            )}
          </label>
          <ul
            tabIndex={0}
            className="menu menu-compact dropdown-content mt-3 p-2 shadow bg-base-100 rounded-box w-30"
          >
            <li>
              <Link href="/">Homepage</Link>
            </li>
            <li>
              <Link href="/Games">Games</Link>
            </li>
          </ul>
        </div>
      </div>
      <div className="navbar-center">
        <Link href="/">
          {darkMode ? (
            <svg
              width="98"
              height="31"
              viewBox="0 0 98 31"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <rect
                x="0.117676"
                y="0.0205688"
                width="15.1049"
                height="15.1049"
                fill="#FF6201"
              />
              <rect
                x="15.0671"
                y="15.0639"
                width="15.1049"
                height="15.1049"
                fill="#50FFB1"
              />
              <rect
                x="0.117676"
                y="15.0639"
                width="14.9823"
                height="15.1049"
                fill="#4D4D4D"
              />
              <path
                d="M0.248291 0.127869L14.9965 14.9493"
                stroke="white"
                stroke-width="0.170119"
                stroke-linecap="round"
              />
              <path
                d="M30.21 15.1049L15.1051 30.2098"
                stroke="#00272B"
                stroke-width="0.201399"
                stroke-linecap="round"
              />
              <rect
                x="15.105"
                width="15.1049"
                height="15.1049"
                fill="#00272B"
              />
              <ellipse
                cx="22.6196"
                cy="7.57302"
                rx="7.55245"
                ry="7.55245"
                fill="white"
              />
              <path
                d="M15.1049 22.6573C15.1049 26.8284 11.7236 30.2098 7.55245 30.2098C3.38135 30.2098 0 26.8284 0 22.6573C0 18.4862 3.38135 15.1049 7.55245 15.1049C11.7236 15.1049 15.1049 18.4862 15.1049 22.6573Z"
                fill="#F3A712"
              />
              <path
                d="M42.4409 18.4214C42.4409 19.1375 42.2618 19.749 41.9037 20.2559C41.5512 20.7572 41.0553 21.1401 40.4163 21.4045C39.7772 21.6689 39.0253 21.8012 38.1603 21.8012C37.7031 21.8012 37.2706 21.7791 36.863 21.7351C36.4553 21.691 36.0807 21.6276 35.7391 21.545C35.3975 21.4624 35.0973 21.3604 34.8384 21.2392V19.8923C35.2516 20.0631 35.7556 20.2228 36.3506 20.3716C36.9456 20.5148 37.5681 20.5864 38.2182 20.5864C38.8242 20.5864 39.3365 20.5065 39.7552 20.3468C40.1739 20.1815 40.4907 19.9474 40.7055 19.6444C40.9259 19.3359 41.0361 18.9668 41.0361 18.5371C41.0361 18.1239 40.9452 17.7796 40.7634 17.5041C40.5816 17.2231 40.2786 16.9697 39.8544 16.7439C39.4357 16.5125 38.8627 16.2673 38.1355 16.0084C37.6232 15.8266 37.1715 15.6283 36.7803 15.4134C36.3892 15.1931 36.0614 14.9452 35.797 14.6697C35.5325 14.3943 35.3314 14.0747 35.1937 13.7111C35.0615 13.3475 34.9954 12.9316 34.9954 12.4633C34.9954 11.8188 35.1579 11.2679 35.4829 10.8106C35.8135 10.3479 36.268 9.99528 36.8464 9.75288C37.4304 9.50498 38.0997 9.38102 38.8545 9.38102C39.499 9.38102 40.094 9.44162 40.6394 9.56282C41.1903 9.68402 41.6944 9.84654 42.1516 10.0504L41.7137 11.2569C41.2785 11.0751 40.8157 10.9236 40.3254 10.8024C39.8406 10.6812 39.3393 10.6206 38.8214 10.6206C38.3036 10.6206 37.8656 10.6977 37.5075 10.8519C37.1549 11.0007 36.885 11.2128 36.6977 11.4882C36.5104 11.7637 36.4167 12.0915 36.4167 12.4716C36.4167 12.8958 36.5049 13.2484 36.6812 13.5293C36.863 13.8103 37.1494 14.061 37.5406 14.2813C37.9372 14.4962 38.4606 14.722 39.1106 14.9589C39.8213 15.2179 40.4246 15.4933 40.9204 15.7853C41.4162 16.0718 41.7935 16.4243 42.0525 16.843C42.3114 17.2562 42.4409 17.7823 42.4409 18.4214ZM48.622 21.6359H47.2089V10.7941H43.4077V9.55456H52.4067V10.7941H48.622V21.6359ZM64.7112 15.5787C64.7112 16.5097 64.5927 17.3581 64.3558 18.1239C64.119 18.8841 63.7664 19.5397 63.2981 20.0906C62.8354 20.636 62.2597 21.0574 61.571 21.3549C60.8824 21.6524 60.0836 21.8012 59.1746 21.8012C58.2381 21.8012 57.42 21.6524 56.7203 21.3549C56.0262 21.0574 55.4477 20.6332 54.985 20.0823C54.5277 19.5314 54.1834 18.8731 53.952 18.1074C53.7261 17.3416 53.6132 16.4932 53.6132 15.5622C53.6132 14.3281 53.817 13.2456 54.2247 12.3146C54.6324 11.3836 55.2494 10.6591 56.0758 10.1413C56.9076 9.62342 57.9488 9.36449 59.1994 9.36449C60.3948 9.36449 61.4002 9.62066 62.2156 10.133C63.0364 10.6453 63.6562 11.367 64.0749 12.2981C64.4991 13.2236 64.7112 14.3171 64.7112 15.5787ZM55.0924 15.5787C55.0924 16.6034 55.2384 17.4903 55.5304 18.2396C55.8223 18.9888 56.2686 19.5672 56.8691 19.9749C57.475 20.3826 58.2436 20.5864 59.1746 20.5864C60.1111 20.5864 60.8769 20.3826 61.4719 19.9749C62.0723 19.5672 62.5158 18.9888 62.8023 18.2396C63.0888 17.4903 63.232 16.6034 63.232 15.5787C63.232 14.0196 62.9042 12.8021 62.2486 11.9262C61.5986 11.0448 60.5822 10.604 59.1994 10.604C58.2628 10.604 57.4916 10.8051 56.8856 11.2073C56.2796 11.6094 55.8278 12.1824 55.5304 12.9261C55.2384 13.6643 55.0924 14.5485 55.0924 15.5787ZM76.1149 21.6359H74.4539L70.099 15.7605L68.8099 16.9174V21.6359H67.4051V9.55456H68.8099V15.5787C69.1239 15.2206 69.4462 14.8653 69.7768 14.5127C70.1073 14.1546 70.4351 13.7938 70.7601 13.4302L74.2887 9.55456H75.9331L71.1237 14.7937L76.1149 21.6359ZM86.4774 21.6359H84.8164L80.4615 15.7605L79.1724 16.9174V21.6359H77.7676V9.55456H79.1724V15.5787C79.4864 15.2206 79.8087 14.8653 80.1393 14.5127C80.4698 14.1546 80.7976 13.7938 81.1226 13.4302L84.6512 9.55456H86.2956L81.4862 14.7937L86.4774 21.6359ZM95.7078 21.6359L94.2204 17.8016H89.3779L87.8988 21.6359H86.4774L91.2042 9.50498H92.4685L97.1622 21.6359H95.7078ZM93.7989 16.5538L92.3859 12.7443C92.3528 12.6451 92.2977 12.4826 92.2206 12.2567C92.149 12.0309 92.0746 11.7967 91.9975 11.5543C91.9204 11.3119 91.857 11.1164 91.8074 10.9676C91.7523 11.1935 91.6917 11.4194 91.6256 11.6452C91.565 11.8656 91.5044 12.0722 91.4438 12.265C91.3832 12.4523 91.3309 12.6121 91.2868 12.7443L89.849 16.5538H93.7989Z"
                fill="white"
              />
            </svg>
          ) : (
            <svg
              width="99"
              height="31"
              viewBox="0 0 99 31"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <rect
                x="0.118164"
                width="15.166"
                height="15.166"
                fill="#FF6201"
              />
              <rect
                x="15.1279"
                y="15.1042"
                width="15.166"
                height="15.166"
                fill="#50FFB1"
              />
              <rect
                x="0.118164"
                y="15.1042"
                width="15.0429"
                height="15.166"
                fill="#4D4D4D"
              />
              <path
                d="M0.249268 0.107758L15.0571 14.9892"
                stroke="white"
                stroke-width="0.170807"
                stroke-linecap="round"
              />
              <path
                d="M30.332 15.1453L15.166 30.3113"
                stroke="#00272B"
                stroke-width="0.202213"
                stroke-linecap="round"
              />
              <ellipse
                cx="22.7109"
                cy="7.583"
                rx="7.583"
                ry="7.583"
                fill="#00272B"
              />
              <path
                d="M15.166 22.7283C15.166 26.9163 11.771 30.3113 7.583 30.3113C3.39502 30.3113 0 26.9163 0 22.7283C0 18.5403 3.39502 15.1453 7.583 15.1453C11.771 15.1453 15.166 18.5403 15.166 22.7283Z"
                fill="#F3A712"
              />
              <path
                d="M42.6126 18.4593C42.6126 19.1783 42.4328 19.7923 42.0733 20.3012C41.7193 20.8046 41.2214 21.189 40.5798 21.4545C39.9382 21.72 39.1831 21.8527 38.3147 21.8527C37.8556 21.8527 37.4214 21.8306 37.0121 21.7864C36.6028 21.7421 36.2267 21.6785 35.8837 21.5955C35.5408 21.5126 35.2393 21.4102 34.9793 21.2885V19.9361C35.3942 20.1076 35.9003 20.268 36.4977 20.4174C37.0951 20.5612 37.7201 20.6331 38.3728 20.6331C38.9813 20.6331 39.4957 20.5529 39.9161 20.3925C40.3364 20.2265 40.6545 19.9914 40.8702 19.6872C41.0915 19.3775 41.2021 19.0069 41.2021 18.5754C41.2021 18.1606 41.1108 17.8149 40.9283 17.5383C40.7458 17.2562 40.4415 17.0018 40.0156 16.775C39.5952 16.5427 39.02 16.2965 38.2898 16.0365C37.7754 15.854 37.3219 15.6549 36.9291 15.4392C36.5364 15.2179 36.2073 14.969 35.9418 14.6924C35.6763 14.4159 35.4744 14.095 35.3361 13.73C35.2034 13.3649 35.137 12.9473 35.137 12.4771C35.137 11.83 35.3002 11.2768 35.6265 10.8177C35.9584 10.3531 36.4147 9.9991 36.9955 9.75572C37.5818 9.50681 38.2539 9.38235 39.0117 9.38235C39.6588 9.38235 40.2562 9.4432 40.8038 9.56489C41.357 9.68658 41.8631 9.84975 42.3222 10.0544L41.8824 11.2658C41.4455 11.0832 40.9808 10.9311 40.4885 10.8094C40.0018 10.6877 39.4984 10.6269 38.9785 10.6269C38.4585 10.6269 38.0188 10.7043 37.6593 10.8592C37.3053 11.0086 37.0342 11.2215 36.8462 11.4981C36.6581 11.7747 36.5641 12.1038 36.5641 12.4854C36.5641 12.9113 36.6526 13.2653 36.8296 13.5474C37.0121 13.8295 37.2997 14.0812 37.6925 14.3025C38.0907 14.5182 38.6162 14.745 39.2689 14.9828C39.9824 15.2428 40.5881 15.5194 41.0859 15.8125C41.5837 16.1002 41.9626 16.4542 42.2226 16.8745C42.4826 17.2894 42.6126 17.8176 42.6126 18.4593ZM48.8187 21.6868H47.3999V10.8011H43.5833V9.55659H52.6188V10.8011H48.8187V21.6868ZM64.973 15.6051C64.973 16.5399 64.8541 17.3917 64.6162 18.1606C64.3784 18.9239 64.0244 19.5821 63.5542 20.1353C63.0896 20.6829 62.5115 21.106 61.8201 21.4047C61.1287 21.7034 60.3267 21.8527 59.414 21.8527C58.4737 21.8527 57.6523 21.7034 56.9498 21.4047C56.2528 21.106 55.672 20.6801 55.2074 20.127C54.7483 19.5738 54.4026 18.9128 54.1703 18.144C53.9435 17.3751 53.8301 16.5233 53.8301 15.5885C53.8301 14.3495 54.0348 13.2626 54.4441 12.3278C54.8534 11.393 55.4729 10.6656 56.3026 10.1457C57.1378 9.62573 58.1833 9.36576 59.4389 9.36576C60.6392 9.36576 61.6486 9.62297 62.4673 10.1374C63.2915 10.6518 63.9137 11.3764 64.3341 12.3112C64.76 13.2405 64.973 14.3384 64.973 15.6051ZM55.3153 15.6051C55.3153 16.6339 55.4619 17.5245 55.755 18.2767C56.0482 19.029 56.4962 19.6098 57.0991 20.0191C57.7076 20.4284 58.4792 20.6331 59.414 20.6331C60.3543 20.6331 61.1232 20.4284 61.7206 20.0191C62.3235 19.6098 62.7687 19.029 63.0564 18.2767C63.344 17.5245 63.4878 16.6339 63.4878 15.6051C63.4878 14.0397 63.1587 12.8173 62.5005 11.9378C61.8478 11.0528 60.8272 10.6103 59.4389 10.6103C58.4986 10.6103 57.7242 10.8122 57.1157 11.216C56.5073 11.6198 56.0537 12.195 55.755 12.9418C55.4619 13.683 55.3153 14.5707 55.3153 15.6051ZM76.4228 21.6868H74.7551L70.3826 15.7876L69.0883 16.9492V21.6868H67.6778V9.55659H69.0883V15.6051C69.4036 15.2456 69.7272 14.8888 70.059 14.5348C70.3909 14.1753 70.72 13.8129 71.0464 13.4479L74.5892 9.55659H76.2403L71.4114 14.8169L76.4228 21.6868ZM86.8273 21.6868H85.1596L80.787 15.7876L79.4927 16.9492V21.6868H78.0822V9.55659H79.4927V15.6051C79.808 15.2456 80.1316 14.8888 80.4635 14.5348C80.7953 14.1753 81.1245 13.8129 81.4508 13.4479L84.9936 9.55659H86.6447L81.8159 14.8169L86.8273 21.6868ZM96.095 21.6868L94.6015 17.837H89.7395L88.2543 21.6868H86.8273L91.5731 9.50681H92.8426L97.5553 21.6868H96.095ZM94.1784 16.5841L92.7596 12.7592C92.7264 12.6597 92.6711 12.4965 92.5937 12.2697C92.5218 12.0429 92.4471 11.8078 92.3697 11.5645C92.2922 11.3211 92.2286 11.1247 92.1788 10.9754C92.1235 11.2022 92.0627 11.4289 91.9963 11.6557C91.9354 11.877 91.8746 12.0844 91.8138 12.278C91.7529 12.4661 91.7004 12.6265 91.6561 12.7592L90.2124 16.5841H94.1784Z"
                fill="#00272B"
              />
            </svg>
          )}
        </Link>
      </div>

      <div className="navbar-end">
        {/* <button className={darkMode?"btn btn-primary":"btn btn-secondary"}
        onClick={()=>setDarkMode(!darkMode)} changeBackground={()=>changeBackground}
        >
          Toggle</button> */}

        <div style={{ display: "flex", alignItems: "center" }}>
          {/* <input type="checkbox" id="toggle" className= {darkMode?styles.toggleInputDark : styles.toggleInput} onClick={()=>setDarkMode(!darkMode)} changeBackground={()=>changeBackground}
        ></input>
          <label className={darkMode?styles.toggleLabelDark : styles.toggleLabel} for="toggle"></label> */}

          <label className="swap swap-rotate">
            <input
              onClick={() => setDarkMode(!darkMode)}
              changeBackground={() => changeBackground}
              type="checkbox"
            />

            <svg
              className="fill-primary swap-on w-8 h-8"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
            >
              <path d="M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z" />
            </svg>

            <svg
              className=" swap-off fill-current w-8 h-8"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
            >
              <path d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z" />
            </svg>
          </label>
        </div>

        {user ? <Account user={user} /> : <NoAccount />}
      </div>
    </div>
  );
}

export default Header;
